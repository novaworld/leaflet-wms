{"version":3,"file":"leaflet-wms.es.js","sources":["../src/TileWMSLayer.js","../src/index.js"],"sourcesContent":["import { TileLayer } from 'leaflet'\r\nimport { getFeatureInfoUrl } from \"@ttungbmt/geo\";\r\nimport { uniqid } from \"@ttungbmt/utils\";\r\n\r\nexport const TileWMSLayer = TileLayer.WMS.extend({\r\n    initialize: function(url, options = {}) {\r\n        TileLayer.WMS.prototype.initialize.call(this, url, this.getOptions(options))\r\n        this.uuid = options.uuid ? options.uuid : uniqid()\r\n    },\r\n\r\n    getOptions: function({uuid, ...options}){\r\n        return {\r\n            format: 'image/png',\r\n            transparent: true,\r\n            ...options\r\n        }\r\n    },\r\n\r\n    getFeatureInfoUrl: function (latlng, params) {\r\n        return getFeatureInfoUrl(this, latlng, params)\r\n    }\r\n})\r\n\r\nexport function tileWMSLayer(url, options) {\r\n    return new TileWMSLayer(url, options);\r\n}\r\n\r\n","import L from 'leaflet'\r\nimport {TileWMSLayer, tileWMSLayer} from './TileWMSLayer'\r\n\r\nL.tileWMSLayer = tileWMSLayer\r\nexport default TileWMSLayer"],"names":["TileWMSLayer","TileLayer","WMS","extend","initialize","url","options","prototype","call","getOptions","uuid","uniqid","format","transparent","getFeatureInfoUrl","latlng","params","tileWMSLayer","L"],"mappings":";;;;AAIO,MAAMA,YAAY,GAAGC,SAAS,CAACC,GAAV,CAAcC,MAAd,CAAqB;EAC7CC,UAAU,EAAE,UAASC,GAAT,EAAcC,OAAO,GAAG,EAAxB,EAA4B;IACpCL,SAAS,CAACC,GAAV,CAAcK,SAAd,CAAwBH,UAAxB,CAAmCI,IAAnC,CAAwC,IAAxC,EAA8CH,GAA9C,EAAmD,KAAKI,UAAL,CAAgBH,OAAhB,CAAnD;SACKI,IAAL,GAAYJ,OAAO,CAACI,IAAR,GAAeJ,OAAO,CAACI,IAAvB,GAA8BC,MAAM,EAAhD;GAHyC;EAM7CF,UAAU,EAAE,UAAS;IAACC,IAAD;OAAUJ;GAAnB,EAA4B;WAC7B;MACHM,MAAM,EAAE,WADL;MAEHC,WAAW,EAAE,IAFV;SAGAP;KAHP;GAPyC;EAc7CQ,iBAAiB,EAAE,UAAUC,MAAV,EAAkBC,MAAlB,EAA0B;WAClCF,iBAAiB,CAAC,IAAD,EAAOC,MAAP,EAAeC,MAAf,CAAxB;;CAfoB,CAArB;AAmBP,AAAO,SAASC,YAAT,CAAsBZ,GAAtB,EAA2BC,OAA3B,EAAoC;SAChC,IAAIN,YAAJ,CAAiBK,GAAjB,EAAsBC,OAAtB,CAAP;;;ACrBJY,CAAC,CAACD,YAAF,GAAiBA,YAAjB;;;;"}